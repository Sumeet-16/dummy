<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Document</title>
    <link
      rel="stylesheet"
      href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.2.1/css/all.min.css"
      integrity="sha512-MV7K8+y+gLIBoVD59lQIYicR65iaqukzvf/nwasF0nqhPay5w/9lJmVM2hMDcnK1OnMGCdVK+iQrJ7lzPJQd1w=="
      crossorigin="anonymous"
      referrerpolicy="no-referrer"
    />
    <link
      rel="stylesheet"
      href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css"
    />
  </head>
  <body>
    <!-- <header>
      <form action="./index.html">
        <nav class="navbar">
          <ul>
            <div class="searchbar">
              <input type="text" [(ngModel)]="todos" placeholder="search " />
            </div>
          </ul>
        </nav>
      </form>
    </header> -->
    <div class="min-h-screen flex flex-col">
      <h1 class="mt-12 text-2xl font-bold">MY task management</h1>
      <!-- <input
        type="text"
        [(ngModel)]="todos"
        placeholder="search "
        class="appearance-none block w-full text-gray-700 border border-black rounded py-3 px-4 leading-tight focus:outline-none focus:bg-white"
      /> -->
      <div class="mt-24 flex-1 flex justify-center px-6 gap-12">
        <div class="basis-[36%] flex flex-col gap-6">
          <h1 class="uppercase font-bold text-2xl">Add TODO</h1>
          <form #content="ngForm" (ngSubmit)="submitForm(content)" novalidate>
            <div class="w-full px-3 mb-6">
              <label
                class="block uppercase tracking-wide text-gray-700 text-xs font-bold mb-2"
                for="grid-first-name"
              >
                TaskName
              </label>
              <input
                class="appearance-none block w-full text-gray-700 border border-black rounded py-3 px-4 leading-tight focus:outline-none focus:bg-white"
                type="text"
                name="TaskName"
                id="TaskName"
                #TaskName="ngModel"
                ngModel
                required
                minlength="4"
                maxlength="20"
                pattern="^[a-zA-Z]+$"
              />
              <p
                class="mt-1 text-red-500 text-xs italic"
                *ngIf="
                  !TaskName?.valid && (TaskName?.dirty || TaskName?.touched)
                "
              >
                Invalid Task Name,
                <span *ngIf="TaskName.errors!['minlength']"
                  >required minimum 4 charaters</span
                >
                <span *ngIf="TaskName.errors!['required']">It is required</span>
              </p>
            </div>

            <div class="w-full px-3 mb-6">
              <label
                class="block uppercase tracking-wide text-gray-700 text-xs font-bold mb-2"
                for="grid-first-name"
              >
                Description
              </label>
              <input
                class="appearance-none block w-full text-gray-700 border border-black rounded py-3 px-4 leading-tight focus:outline-none focus:bg-white"
                type="text"
                name="Description"
                id="Description"
                #Description="ngModel"
                ngModel
                required
                minlength="4"
                maxlength="50"
                pattern="^[a-zA-Z]+$"
              />
              <p
                class="mt-1 text-red-500 text-xs italic"
                *ngIf="
                  !Description?.valid &&
                  (Description?.dirty || Description?.touched)
                "
              >
                Invalid Task Name,
                <span *ngIf="Description.errors!['minlength']"
                  >required minimum 4 charaters</span
                >
                <span *ngIf="Description.errors!['required']"
                  >It is required</span
                >
              </p>
            </div>

            <div class="w-full px-3 mb-6">
              <label
                class="block uppercase tracking-wide text-gray-700 text-xs font-bold mb-2"
              >
                Task status
              </label>
              <input
                class="appearance-none block w-full text-gray-700 border border-black rounded py-3 px-4 leading-tight focus:outline-none focus:bg-white"
                type="text"
                name="TaskStatus"
                id="TaskStatus"
                #TaskStatus="ngModel"
                ngModel
                required
                minlength="4"
                maxlength="20"
                pattern="^[a-zA-Z]+$"
              />
              <p
                class="mt-1 text-red-500 text-xs italic"
                *ngIf="
                  !TaskStatus?.valid &&
                  (TaskStatus?.dirty || TaskStatus?.touched)
                "
              >
                Invalid Task Name,
                <span *ngIf="TaskStatus.errors!['minlength']"
                  >required minimum 4 charaters</span
                >
                <span *ngIf="TaskStatus.errors!['required']"
                  >It is required</span
                >
              </p>
            </div>

            <div class="w-full px-3 mb-6">
              <label
                class="block uppercase tracking-wide text-gray-700 text-xs font-bold mb-2"
              >
                Reporter
              </label>
              <input
                class="appearance-none block w-full text-gray-700 border border-black rounded py-3 px-4 leading-tight focus:outline-none focus:bg-white"
                type="text"
                name="Reporter"
                id="Reporter"
                #Reporter="ngModel"
                ngModel
                required
                minlength="4"
                maxlength="20"
                pattern="^[a-zA-Z]+$"
              />
              <p
                class="mt-1 text-red-500 text-xs italic"
                *ngIf="
                  !Reporter?.valid && (Reporter?.dirty || Reporter?.touched)
                "
              >
                Invalid Task Name,
                <span *ngIf="Reporter.errors!['minlength']"
                  >required minimum 4 charaters</span
                >
                <span *ngIf="Reporter.errors!['required']">It is required</span>
              </p>
            </div>

            <button
              class="ml-3 bg-blue-500 hover:bg-blue-400 px-6 py-2 rounded-md"
              type="submit"
              [disabled]="!content.valid"
            >
              save
            </button>
          </form>
        </div>

        <div class="flex-1">
          <div class="overflow-x-auto relative shadow-md sm:rounded-lg">
            <!-- </div> -->
            <div class="relative mr-6 my-2">
              <input
                type="text"
                class="bg-purple-white shadow rounded border-0 p-3 w-9/12"
                placeholder="Search by name..."
                [(ngModel)]="term"
              />
              <div class="absolute pin-r pin-t mt-3 mr-4 text-purple-lighter">
                <svg
                  version="1.1"
                  class="h-4 text-dark"
                  xmlns="http://www.w3.org/2000/svg"
                  xmlns:xlink="http://www.w3.org/1999/xlink"
                  x="0px"
                  y="0px"
                  viewBox="0 0 52.966 52.966"
                  style="enable-background: new 0 0 52.966 52.966"
                  xml:space="preserve"
                >
                  <path
                    d="M51.704,51.273L36.845,35.82c3.79-3.801,6.138-9.041,6.138-14.82c0-11.58-9.42-21-21-21s-21,9.42-21,21s9.42,21,21,21
                    c5.083,0,9.748-1.817,13.384-4.832l14.895,15.491c0.196,0.205,0.458,0.307,0.721,0.307c0.25,0,0.499-0.093,0.693-0.279
                    C52.074,52.304,52.086,51.671,51.704,51.273z M21.983,40c-10.477,0-19-8.523-19-19s8.523-19,19-19s19,8.523,19,19
                    S32.459,40,21.983,40z"
                  />
                </svg>
              </div>
            </div>
            <table
              class="w-full text-sm text-left text-gray-500 dark:text-gray-400"
            >
              <thead
                class="text-xs text-gray-700 uppercase bg-gray-50 dark:bg-gray-700 dark:text-gray-400"
              >
                <tr>
                  <th scope="col" class="py-3 px-2">taskName</th>
                  <th scope="col" class="py-3 px-2">description</th>
                  <th scope="col" class="py-3 px-2">taskstatus</th>
                  <th scope="col" class="py-3 px-2">reporter</th>
                  <th scope="col" class="py-3">Delete</th>
                  <th scope="col" class="py-3">Edit</th>
                </tr>
              </thead>
              <tbody>
                <tr
                  class="bg-white border-b dark:bg-gray-900 dark:border-gray-700"
                  *ngFor="let todo of todos | filter : term"
                >
                  <th
                    scope="row"
                    class="py-4 px-2 font-medium text-gray-900 whitespace-nowrap dark:text-white"
                  >
                    {{ todo["taskName"] }}
                  </th>
                  <td class="py-4 px-2">{{ todo["description"] }}</td>
                  <td class="py-4 px-2">{{ todo["taskstatus"] }}</td>
                  <td class="py-4 px-2">{{ todo["reporter"] }}</td>
                  <td class="py-4">
                    <button
                      class="font-medium text-center hover:text-red-500"
                      (click)="onDeleteTodo(todo.id)"
                    >
                      <i class="fa-solid fa-trash"></i>
                    </button>
                  </td>
                  <td class="py-4">
                    <button
                      class="font-medium text-center hover:text-blue-600"
                      (click)="onEditTodo(todo.id, content)"
                    >
                      <i class="fa-sharp fa-solid fa-pen"></i>
                    </button>
                  </td>
                </tr>
              </tbody>
            </table>
          </div>
        </div>
      </div>
    </div>
  </body>
</html>

<router-outlet></router-outlet>
